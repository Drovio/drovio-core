<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html><body><div class="wDoc">
<div class="header"></div>
<div class="body">
<h1>Platform mailer</h1>
<p>This class uses a php mailer and provides access to an interface for sending mail. Read the examples for a simple guide through.</p>
<p>Before sending an email, the class must be initialized with the proper options to connect to the mail host server:</p>
<div class="code">
	<pre>// Initialize basic options

// Create options array
$options = array();

// Load Common Domain / Server Configuration
$options['Hostname'] = 'mail.example.com';

// Load Credentials
$options['SMTPUsername'] = "username@example.com";
$options['SMTPPassword'] = "this_should_be_your_account_password";

// Load options in send mode

// SMTP configuration
// Basic properties
$options['SMTPHost'] = 'mail.example.com';
$options['SMTPPort'] = 25;
$options['SMTPAuth'] = true;
$options['SMTPAuthType'] = 'LOGIN';

// Optional properties
//$optionSetArray['SMTPSecure'] = '';
//$commonOptioset['SMTPRealm'] = '';
//$commonOptioset['SMTPWorkstation'] = '';
//$commonOptioset['SMTPTimeout'] = 10;


// Load Additional Mail Configuration Options
$options['ContentType'] = 'text/plain';
$options['Encoding']= '8bit';
$options['WordWrap'] = 0;

// Optional configuration
//$optionSetArray['ReturnPath'] = '';
//$optionSetArray['ConfirmReadingTo'] = '';</pre>
</div>
<p>After setting the mail options, we can simply send an HTML mail to any recipient:</p>
<div class="code">
	<pre>// Use the class
use \API\Comm\mail\mailer;


// Create a mailer instance and initialize options
$mailer = new mailer();
$mailer-&gt;options($options);
		
		
		
// SEND EMAIL

// Set mail subject
$mailer-&gt;subject($subject = "Mail Subject");

// Set HTML message
$mailer-&gt;MsgHTML($messageHTML = "HTML Message for mail");

// Add recipients
$mailer-&gt;AddAddress($mail = "recipient@mail.com", $name = "Recipient name");


// Send mail
$sender = array();
$sender["no-reply@example.com"] = 'Example NoReply';
return $mailer-&gt;send($subject, $sender);</pre>
</div>
</div>
<div class="footer"><p class="updated">Document updated 03 September, 2015 [en_US]</p></div>
</div></body></html>
