<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html><body><div class="wDoc">
<div class="header"></div>
<div class="body">
<h1>Retail product stock manager</h1>
<p>Product stock manager is a bit more complicated that the other product information. Products are stored in company branches. The retail SDK allows the company to create storage units where a product can be stored. For example, a product can have 10 items that a ready for sale and 3 items that are customer returns due to failures. Or maybe there are products that should go back to the supplier, those products should appear in the stock but they are not ready for sale.</p>
<p>We should use this class for read-only and avoid altering information in the database. Product stock is affected by logistics, invoices and product movement.</p>
<h2>Reading product stock</h2>
<p>As we mentioned before, we can see the product in different storage units. So, we can ready the database accordingly:</p>
<div class="code">
	<pre>// Use classes
use \RTL\Products\cProduct;
use \RTL\Products\cProductStock;

// Get product id
$productID = engine::getVar("id");

// Create a product stock instance
$qManager = new cProductStock($productID, $branchID);


// Get product stock
// The following line of code will return the total stock of the product 
$stock = $qManager-&gt;get($includeStorage = FALSE, $storageID = NULL);

// The above should return something like this:
Array
(
    [0] =&gt; Array
        (
            [branch_id] =&gt; "1_1"
            [branchName] =&gt; "General Warehouse"
            [branchAddress] =&gt; "Egnatia road"
            [stock] =&gt; "10"
        )
    [1] =&gt; Array
        (
            [branch_id] =&gt; "1_2"
            [branchName] =&gt; "Side Warehouse"
            [branchAddress] =&gt; "Nikis road"
            [stock] =&gt; "7"
        )
)</pre>
</div>
<h2>Getting storage units</h2>
<p>Branches and storage units can be managed from the company profile manager. See the company profile API and use the classes to access branch information.</p>
</div>
<div class="footer"><p class="updated">Document updated 01 September, 2015 [en_US]</p></div>
</div></body></html>
